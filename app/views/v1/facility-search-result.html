{% extends "layout.html" %}
{% block pageTitle %}
Claims and recoveries
{% endblock %}


{% block beforeContent %}
<nav class="govuk-!-display-none-print">
{{govukBackLink({
  text: "Choose a different date",
  "href": "javascript: window.history.go(-1)"
  })}}
  <a href="../dps-home.html" class="govuk-link govuk-link--no-visited-state govuk-!-margin-top-3 govuk-!-margin-bottom-3 float-right">

  </a>
</nav>
<h1 class="govuk-heading-l">
  Claims and recoveries dashboard	</h1>
<p class="govuk-body">Select the facility from the list shown to create a new claim or view an exisiting claim, or search for a different facility.<br /> You can aslo filter the results, by selecting the show filters button.</p>

<div class="homepage-search">
	<div class="govuk-width-container">
		<h2 class="govuk-heading-m govuk-!-margin-bottom-1">Search for a facility</h2>
		<p class="govuk-body govuk-hint"> Enter the facility ID, deal ID or company name.</p>
		<form method="post" class="horizontal-form" data-test="homepage-search-form" name="facilitySearch">
			<div class="govuk-form-group">
				<label class="govuk-label" for="keywords">
					Search term
				</label>
				<input class="govuk-input" id="keywords" name="keywords" type="text" data-test="homepage-search-keywords">
			</div>
			<div class="govuk-form-group">
				<label class="govuk-label" for="location">
					Search category
				</label>
				<select class="govuk-select" id="location" name="Home-Search" data-test="homepage-search-location">
					<option value="Home-Search">Select category</option>

					<option value="Facility ">Facility ID</option>
					<option value="Deal">Deal ID</option>
						<option value="Company">Company name</option>
						<option value="Claim">Claim ID</option>
				</select>
			</div>
			<button type="submit" class="govuk-button" data-module="govuk-button">
				Search
			</button>
		</form>
	</div>
</div>
{% block content %}
<form id="form" method="post" action="search-results-24102023">
<br />
  {% endblock %}


	{%- from "moj/components/filter/macro.njk" import mojFilter -%}
	{%- from "moj/components/button-menu/macro.njk" import mojButtonMenu -%}
	<div class="moj-filter-layout">
		<div class="moj-filter-layout__filter">
			<div class="moj-filter">
				<div class="moj-filter__header">
					<div class="moj-filter__header-title">
						<h2 class="govuk-heading-m">Filter</h2>
					</div>
					<div class="moj-filter__header-action"></div>
				</div>
				<div class="moj-filter__content">
					{% if selectedFilters.length %}
					<div class="moj-filter__selected">
						<div class="moj-filter__selected-heading">
							<div class="moj-filter__heading-title">
								<h2 class="govuk-heading-m">Selected filters</h2>
							</div>
							<div class="moj-filter__heading-action">
								<p><a class="govuk-link govuk-link--no-visited-state" href="">Clear filters</a>
								</p>
							</div>
						</div>
						{% for filter in selectedFilters %}
						<h3 class="govuk-heading-s govuk-!-margin-bottom-0">Colour</h3>
						<ul class="moj-filter-tags">
							<li><a class="moj-filter__tag" href="#"><span class="govuk-visually-hidden">Remove
										this
										filter</span> Blue</a></li>
							<li><a class="moj-filter__tag" href="#"><span class="govuk-visually-hidden">Remove
										this
										filter</span> Yellow</a></li>
						</ul>
						{% endfor %}
					</div>
					{% endif %}

					<div class="moj-filter__options">
						<button class="govuk-button" data-module="govuk-button" action="appointment-view">
							Apply filters
						</button>

							{{ govukCheckboxes({
								classes: "govuk-checkboxes--small",
								id: "time-fltr",
								name: "time-fltr",
							fieldset: {
							legend: {
							text: "Claim status",
							isPageHeading: false,
							classes: "govuk-fieldset__legend--s"
							}
							},
							items: [
							{
							value: "None",
							text: "No claim raised"
							},
							{
							value: "dataIncomplete",
							text: "Data entry incomplete"
							},
							{
							value: "dataComplete",
							text: "Data entry complete"
							},
							{
							value: "underReview",
							text: "Under review"
							},
							{
							value: "awaitingInformation",
							text: "Awaiting Information"
							},
							{
							value: "Complete",
							text: "Complete"
							}
							]
							})
						}}



							<div class="govuk-form-group">
								<label class="govuk-label govuk-label--s" for="sort">
								  Company
								</label>
								<select class="govuk-select" id="appointment-type-fltr" name="appointment-type-fltr">
									<option value=""> </option>
									<option value="Activities">Abacus</option>

									<option value="Adjudication review">Airbus</option>

									<option value="Blood test">Bravo LTD</option>
									<option value="Blood test">JCB</option>
									<option value="Blood test">London Provincial</option>

									</select>
							</div>






						<!-- Created by GOVUK radio with component - HTML -->
						{{ govukRadios({
						classes: "govuk-radios--small",
						id: "appointment-creator",
						name: "appointment-creator",

						fieldset: {
						legend: {
						text: "Created by",
						isPageHeading: false,
						classes: "govuk-fieldset__legend--s"
						}
						},
						items: [

						{
						value: "myself",
						text: "Myself"
						},
						{
						value: "someoneElse",
						text: "All claims creators"
						}
						]
						}) }}



						<button class="govuk-button govuk-!-margin-top-6 govuk-!-margin-bottom-6"
							data-module="govuk-button" action="appointment-view">
							Apply filters
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="moj-filter-layout__content">

			<div class="moj-action__filter"></div>

			{% if data['appointment-type-fltr'] == 'Blood test' or data['appointment-type-fltr'] == 'Medical - Doctor' and data['appointment-location-fltr'] == 'Medical Room 1' %}
			<h2 class="govuk-heading-s">
				Showing 2 facilities
			</h2>

			{% else %}
			<h2 class="govuk-heading-s">
				Showing 3 of 3 results for '1234'
			</h2>

			{% endif %}

			{% from "govuk/components/table/macro.njk" import govukTable %}
			<table class="govuk-table app-whereabouts-table--sticky-head" data-module="moj-sortable-table">
				<thead class="govuk-table__head">
					<tr class="govuk-table__row">
						<!-- <th class="govuk-table__header" scope="col">Date</th> -->
						<th class="govuk-table__header" style="width:13%" scope="col" aria-sort="ascending"><button type="button" data-index="1"></button>Facility ID</th>
						<th class="govuk-table__header" scope="col" aria-sort="none"><button type="button" data-index="0"></button>company</th>
						<th class="govuk-table__header" scope="col" aria-sort="none"><button type="button" data-index="0"></button>Value</th>
            <th class="govuk-table__header" scope="col" aria-sort="none"><button type="button" data-index="0"></button>Claim due</th>
						<th class="govuk-table__header" scope="col" aria-sort="none"><button type="button" data-index="0"></button>Claim status</th>
						<th class="govuk-table__header govuk-table__header--numeric" scope="col"></th>
					</tr>
				</thead>
				<tbody class="govuk-table__body">
					<tr class="govuk-table__row ">
						<td class="govuk-table__cell"><strong><a href="#">12345678</a></strong></td>
						<td class="govuk-table__cell">Airbus UK</td>
					<!--	<td class="govuk-table__cell govuk-table__cell--numeric">2,000,000</td>-->
						<td class="govuk-table__cell" data-sort-value="20">2,000,000</td>
            <td class="govuk-table__cell"data-sort-value="230921">21st Sept 2024</td>
						<td class="govuk-table__cell ">
							<span class="govuk-tag govuk-tag--blue">Input in progress</span></td>
							<td class="govuk-table__cell">

                {% if data.setupShowCardview =='yes' %}
                <a href="facility-card-list">
                  {% else %}
                  <a href="facility-task-list">
                {% endif %}
                  View claim</a></td>
					</tr>
          <tr class="govuk-table__row ">
						<td class="govuk-table__cell"><strong><a href="#">12341037</a></strong></td>
						<td class="govuk-table__cell">Lush Cosmetics</td>
					<!--	<td class="govuk-table__cell govuk-table__cell--numeric">2,000,000</td>-->
						<td class="govuk-table__cell" data-sort-value="15">1,500,000</td>
            <td class="govuk-table__cell"data-sort-value="231101">1st Nov 2023</td>
						<td class="govuk-table__cell ">
							<span class="govuk-tag govuk-tag--grey">N/A</span></td>
							<td class="govuk-table__cell">

                {% if data.setupShowCardview =='yes' %}
                <a href="facility-card-list">
                  {% else %}
                  <a href="facility-task-list">
                {% endif %}
                  Create new claim</a></td>
					</tr>

        <tr class="govuk-table__row ">
          <td class="govuk-table__cell"><strong><a href="#">98212341</a></strong></td>
          <td class="govuk-table__cell">Premier furnishings LTD</td>
        <!--	<td class="govuk-table__cell govuk-table__cell--numeric">2,000,000</td>-->
          <td class="govuk-table__cell" data-sort-value="3">300,000</td>
          <td class="govuk-table__cell" data-sort-value="231109">9th Nov 2023</td>
          <td class="govuk-table__cell ">
            <span class="govuk-tag govuk-tag--grey">N/A</span></td>
            <td class="govuk-table__cell">

              {% if data.setupShowCardview =='yes' %}
              <a href="facility-card-list">
                {% else %}
                <a href="facility-task-list">
              {% endif %}
                Create new claim</a></td>
        </tr>
				</tbody>
			</table>
		</div>
	</div>
</form>
{% endblock %}



{% block pageScripts %}
<script type="text/javascript">
	$(document).ready(function () {
		new MOJFrontend.FilterToggleButton({
			bigModeMediaQuery: "(min-width: 48.063em)",
			startHidden: true,
			toggleButton: {
				container: $(".moj-action__filter"),
				showText: "Show filter",
				hideText: "Hide filter",
				classes: "govuk-button--secondary",
			},
			closeButton: {
				container: $(".moj-filter__header-action"),
				text: "Close",
			},
			filter: {
				container: $(".moj-filter"),
			},
		});
	})
</script>



<script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
<script>
    accessibleAutocomplete.enhanceSelectElement({
        selectElement: document.querySelector('#appointment-location-fltr'),
        showAllValues: true,
        defaultValue: '',
        autoselect: true,
        confirmOnBlur: false,
    })
</script>




<script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
<script>
    accessibleAutocomplete.enhanceSelectElement({
        selectElement: document.querySelector('#appointment-type-fltr'),
        showAllValues: true,
        defaultValue: '',
        autoselect: true,
        confirmOnBlur: false,
    })
</script>



<script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
<script>
    accessibleAutocomplete.enhanceSelectElement({
        selectElement: document.querySelector('#appointment-prisoner-name'),
        showAllValues: true,
        defaultValue: '',
        autoselect: true,
        confirmOnBlur: false,
    })
</script>
{% endblock %}
